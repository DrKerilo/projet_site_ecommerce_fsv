<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>Page login</title>
</h:head>

<h:body>
	<h:form>
		<h:messages style="color:red" />
	</h:form>

	<h1>Formulaire modification du panier</h1>

	<h:form>
		<h:panelGrid columns="2">
			 Id : <h:inputText value="#{lcMB.pr.id}" />
			 Quantité : <h:inputText value="#{lcMB.lc.quantite}" />
 			 
			
			<h:commandButton value="Modifier le panier" action="#{lcMB.updateLC}" />
		</h:panelGrid>

	</h:form>

	<h1 style="color: coral; text-align: center">Mon panier</h1>

	<h:form>
		<p:dataTable var="pa" value="#{sessionScope.panier}" editable="true">


			<p:column headerText="ID Produit">
				<h:outputText value="#{pa.produit.id}" />
			</p:column>

			<p:column headerText="Produit">
				<h:outputText value="#{pa.produit.nomProduit}" />
			</p:column>

			<p:column headerText="Quantité">
				<h:outputText value="#{pa.quantite}" />
			</p:column>

			<p:column headerText="Prix">
				<h:outputText value="#{pa.prix}€" />
			</p:column>

			<p:column headerText="Operations">
				<h:commandLink value="Modifier" action="testFab.xml" update="@all">
					<f:setPropertyActionListener value="#{pa.produit.id}"
						target="#{lcMB.pr.id}" />
					<f:setPropertyActionListener value="#{pa.quantite}"
						target="#{lcMB.lc.quantite}" />
				</h:commandLink>
						| 
				<h:commandLink value="Supprimer" action="#{lcMB.supprimerLC}"
					update="@all">
					<f:setPropertyActionListener value="#{pa.produit.id}"
						target="#{lcMB.pr.id}" />
				</h:commandLink>
			</p:column>

		</p:dataTable>

	</h:form>


	<h:form enctype="multipart/form-data">

		<h1>Formulaire d'ajout de cat</h1>

		<h:panelGrid columns="2">
			<div class="form-group">
				Nom categorie:
				<h:inputText value="#{catMB.categorie.nomCategorie}" />
			</div>

			<div class="form-group">
				Description:
				<h:inputText value="#{catMB.categorie.description}" />
			</div>

			<div>
				Photo:
				<p:fileUpload value="#{catMB.uf}" mode="simple" />
				<p:graphicImage value="#{catMB.categorie.photo}" />

			</div>

			<p:commandButton value="submit" ajax="false"
				action="#{catMB.ajouterCategorie}" />

		</h:panelGrid>

	</h:form>

	<h:messages style="color:red" />







	<h1>Produits par catégorie</h1>

	<h:form>
		<h:panelGrid columns="2">
			Id : <h:inputText value="#{pMB.cat.id}" />
			<h:commandButton value="Liste par id" action="#{pMB.prodByCat}" />
		</h:panelGrid>


	</h:form>

	<h1 style="color: red; text-align: center">Liste des produits par
		catégorie</h1>


	<h:form>
		<p:dataTable var="pr" value="#{pMB.listeProduit}">
			<p:column headerText="ID">
				<h:outputText value="#{pr.id}" />
			</p:column>

			<p:column headerText="Designation">
				<h:outputText value="#{pr.nomProduit}" />
			</p:column>

			<p:column headerText="Prix">
				<h:outputText value="#{pr.prix}€" />
			</p:column>

			<p:column headerText="Quantité">
				<h:outputText value="#{pr.quantite}" />
			</p:column>

			<p:column headerText="Selectionné">
				<h:outputText value="#{pr.selectionne}" />
			</p:column>

			<p:column headerText="Operations">
				Modifier le panier 
			</p:column>


		</p:dataTable>

	</h:form>




	<h1>Supprimer un produit</h1>
	<h:form>
		<h:panelGrid columns="6">

			<div class="form-group">
				ID:
				<h:inputText value="#{pMB.produit.id}" />


				<h:commandButton value="supprimer " action="#{pMB.supprimerProd}" />
				<!-- APPEL SE CONNECTER QUI DOIT APPELER LA METHODE SERVICE -->
			</div>
		</h:panelGrid>

	</h:form>

	<h:form enctype="multipart/form-data">


		<h1>Ajouter un produit</h1>

		<h:panelGrid columns="2">
			<div class="form-group">
				Designation:
				<h:inputText value="#{pMB.produit.nomProduit}" />

			</div>

			<div class="form-group">
				Description:
				<h:inputText value="#{pMB.produit.description}" />
			</div>

			<div class="form-group">
				Prix:
				<h:inputText value="#{pMB.produit.prix}" />
			</div>

			<div class="form-group">
				Quantité:
				<h:inputText value="#{pMB.produit.quantite}" />
			</div>

			<div>
				Photo:
				<p:fileUpload value="#{pMB.uf}" mode="simple" />
				<p:graphicImage value="#{pMB.produit.image}" />

			</div>


			<div class="form-group">
				Catégorie :
				<h:inputText value="#{pMB.cat.id}" />
			</div>

			<h:commandButton value="submit" ajax="false"
				action="#{pMB.ajouterProd}" />

		</h:panelGrid>
	</h:form>


	<!-- 	//modifier produit -->


	<h:form enctype="multipart/form-data">


		<h1>Ajouter un produit</h1>

		<h:panelGrid columns="2">
			<div class="form-group">
				ID :
				<h:inputText value="#{pMB.produit.id}" />

			</div>

			<div class="form-group">
				Designation:
				<h:inputText value="#{pMB.produit.nomProduit}" />

			</div>

			<div class="form-group">
				Description:
				<h:inputText value="#{pMB.produit.description}" />
			</div>

			<div class="form-group">
				Prix:
				<h:inputText value="#{pMB.produit.prix}" />
			</div>

			<div class="form-group">
				Quantité:
				<h:inputText value="#{pMB.produit.quantite}" />
			</div>

			<div>
				Photo:
				<p:fileUpload value="#{pMB.uf}" mode="simple" />
				<p:graphicImage value="#{pMB.produit.image}" />

			</div>

			<div class="form-group">
				Catégorie :
				<h:inputText value="#{pMB.cat.id}" />
			</div>

			<h:commandButton value="submit" ajax="false"
				action="#{pMB.modifierProd}" />

		</h:panelGrid>
	</h:form>


</h:body>

</html>